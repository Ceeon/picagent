# Agent Ã— MCP : å³æ¢¦å·¥ä½œç«™

> ä¸€ä¸ªä»¥ **Agent ä¸ºæ“æ§ä¸­å¿ƒ**çš„æ™ºèƒ½äº¤äº’ç³»ç»Ÿï¼Œæ”¯æŒå¤šç§äº¤äº’å½¢å¼ï¼ˆGUIã€ç»ˆç«¯ã€MCPï¼‰ï¼Œé€šè¿‡ç»Ÿä¸€çš„æ™ºèƒ½æ ¸å¿ƒå¤„ç†ç”¨æˆ·æ„å›¾ï¼Œæ™ºèƒ½è°ƒåº¦æ‰§è¡Œå›¾ç‰‡ç”Ÿæˆä»»åŠ¡ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ¤– **Agent ä¸­å¿ƒåŒ–** - æ‰€æœ‰äº¤äº’å’Œæ‰§è¡Œéƒ½é€šè¿‡ä¸­å¤® Agent åè°ƒ
- ğŸ¨ **å³æ¢¦ AI é›†æˆ** - ä¸“æ³¨å›¾ç‰‡ç”Ÿæˆçš„ MCP æœåŠ¡é›†æˆ
- ğŸ“š **æ¡ˆä¾‹é©±åŠ¨å­¦ä¹ ** - é€šè¿‡é£æ ¼æ¡ˆä¾‹åº“é™ä½æç¤ºè¯å­¦ä¹ é—¨æ§›
- ğŸš€ **ç®€å•éƒ¨ç½²** - Node.js å•æœåŠ¡å¯åŠ¨ï¼Œè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
- ğŸ’» **è·¨å¹³å°æ”¯æŒ** - Windows/Mac/Linux å®Œç¾å…¼å®¹

## ğŸ“¦ å®‰è£…

### æ–¹å¼ä¸€ï¼šNPM å…¨å±€å®‰è£…ï¼ˆæ¨èï¼‰

```bash
# å®‰è£…
npm install -g @chengfeng2025/picagent-jimeng

# å¯åŠ¨
picagent
```

### æ–¹å¼äºŒï¼šæºç è¿è¡Œ

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/Ceeon/picagent.git
cd picagent

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨æœåŠ¡
npm start
```

### Windows ç”¨æˆ·æ³¨æ„

v1.0.7+ å·²å®Œå…¨æ”¯æŒ Windowsï¼Œæ— éœ€å®‰è£…ç¼–è¯‘å·¥å…·ï¼š

```bash
# ä½¿ç”¨å®˜æ–¹æºå®‰è£…ï¼ˆå¦‚æœæ·˜å®é•œåƒæœªåŒæ­¥ï¼‰
npm install -g @chengfeng2025/picagent-jimeng@latest --registry https://registry.npmjs.org
```

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
                    Agent Ã— MCP æ¶æ„è®¾è®¡
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                   ç”¨æˆ·ç•Œé¢å±‚                      â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚  ä¸»ç•Œé¢  â”‚  â”‚ MCPç®¡ç†  â”‚  â”‚ æ•°æ®ç¼–è¾‘å™¨   â”‚   â”‚
    â”‚  â”‚  Agent   â”‚  â”‚  è®¾ç½®    â”‚  â”‚ Handsontable â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                    â”‚  WebSocket  â”‚
                    â”‚   é€šä¿¡å±‚    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                  Agent åè°ƒå±‚                     â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚            ä¸­å¤® Agent æ§åˆ¶å™¨              â”‚  â”‚
    â”‚  â”‚  â€¢ ç†è§£ç”¨æˆ·æ„å›¾                           â”‚  â”‚
    â”‚  â”‚  â€¢ ç»„åˆæç¤ºè¯                             â”‚  â”‚
    â”‚  â”‚  â€¢ è°ƒåº¦ä»»åŠ¡æ‰§è¡Œ                           â”‚  â”‚
    â”‚  â”‚  â€¢ ç®¡ç†ç”Ÿæˆæµç¨‹                           â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                 â”‚                 â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚ ç»ˆç«¯æœåŠ¡ â”‚      â”‚ MCPæœåŠ¡ â”‚      â”‚ æ•°æ®æœåŠ¡ â”‚
    â”‚  (PTY)  â”‚      â”‚ (å³æ¢¦)  â”‚      â”‚ (Files) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ ä½¿ç”¨æµç¨‹

### 1. å¯åŠ¨æœåŠ¡
```bash
picagent
# æˆ–
npm start
```
æœåŠ¡å°†è‡ªåŠ¨åœ¨ http://localhost:3004 å¯åŠ¨å¹¶æ‰“å¼€æµè§ˆå™¨

### 2. é…ç½® MCPï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰
ç‚¹å‡»å³ä¸Šè§’ "âš™ï¸ ç®¡ç†" è¿›å…¥ MCP ç®¡ç†ç•Œé¢ï¼š
- è¾“å…¥å³æ¢¦ API Key
- è®¾ç½®å›¾ç‰‡è¾“å‡ºç›®å½•
- ç‚¹å‡»"å®‰è£…/æ›´æ–°"

### 3. ä½¿ç”¨ Agent ç”Ÿæˆå›¾ç‰‡

#### æ–¹å¼ä¸€ï¼šæ¡ˆä¾‹æ¨¡æ¿ + ç”¨æˆ·éœ€æ±‚
1. ä»å·¦ä¾§é€‰æ‹©é£æ ¼æ¨¡æ¿ï¼ˆå¦‚"èµ›åšæœ‹å…‹çŒ«å’ª"ï¼‰
2. è¾“å…¥ç”¨æˆ·éœ€æ±‚ï¼ˆå¦‚"åœ¨å’–å•¡åº—"ï¼‰
3. ç‚¹å‡»"ğŸš€ ç”Ÿæˆ"

#### æ–¹å¼äºŒï¼šç›´æ¥åœ¨ç»ˆç«¯å¯¹è¯
åœ¨å³ä¾§ç»ˆç«¯ä¸­ç›´æ¥ä¸ Claude å¯¹è¯ï¼š
```
> å¸®æˆ‘ç”Ÿæˆä¸€å¼ èµ›åšæœ‹å…‹é£æ ¼çš„çŒ«å’ªåœ¨å’–å•¡åº—çš„å›¾ç‰‡
```

### 4. æŸ¥çœ‹ç”Ÿæˆç»“æœ
- å›¾ç‰‡è‡ªåŠ¨ä¿å­˜åˆ°é…ç½®çš„è¾“å‡ºç›®å½•
- åº•éƒ¨ç”»å»Šå®æ—¶æ˜¾ç¤ºæœ€æ–°ç”Ÿæˆçš„å›¾ç‰‡
- æ”¯æŒåˆ·æ–°å’Œæ‰“å¼€æ–‡ä»¶å¤¹

## ğŸ’¡ æ ¸å¿ƒåŠŸèƒ½

### Agent æ™ºèƒ½å¤„ç†
- **æ„å›¾ç†è§£** - è¯†åˆ«ç”¨æˆ·éœ€æ±‚ï¼Œç†è§£é£æ ¼è¦æ±‚
- **æç¤ºè¯ä¼˜åŒ–** - æ™ºèƒ½ç»„åˆå’Œä¼˜åŒ–æç¤ºè¯
- **ä»»åŠ¡è°ƒåº¦** - è‡ªåŠ¨è°ƒç”¨å³æ¢¦ MCP æ‰§è¡Œç”Ÿæˆ

### MCP æœåŠ¡é›†æˆ
- **å³æ¢¦ API Core** - æ”¯æŒ jimeng-apicore
- **å³æ¢¦ç«å±±å¼•æ“** - æ”¯æŒ jimeng-volcengine
- **çŠ¶æ€ç›‘æ§** - å®æ—¶æ£€æµ‹ MCP è¿æ¥çŠ¶æ€
- **é…ç½®ç®¡ç†** - API Key å’Œè¾“å‡ºç›®å½•è®¾ç½®

### æ•°æ®ç®¡ç†ç³»ç»Ÿ
- **100+ é£æ ¼æ¨¡æ¿** - å†…ç½®ä¸°å¯Œçš„é£æ ¼æ¡ˆä¾‹
- **Handsontable ç¼–è¾‘å™¨** - ç±» Excel çš„æ•°æ®ç®¡ç†
- **æ‰¹é‡å¯¼å…¥å¯¼å‡º** - JSON æ ¼å¼æ•°æ®äº¤æ¢

### ç»ˆç«¯äº¤äº’
- **å®Œæ•´ç»ˆç«¯ä½“éªŒ** - åŸºäº xterm.js + node-pty
- **Claude é›†æˆ** - è‡ªåŠ¨å¯åŠ¨ claude å¯¹è¯
- **å®æ—¶è¾“å‡º** - å‘½ä»¤æ‰§è¡Œç»“æœå®æ—¶æ˜¾ç¤º

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **åç«¯**: Node.js + Express + TypeScript
- **å‰ç«¯**: HTML + TailwindCSS + JavaScript
- **ç»ˆç«¯**: node-pty / @lydell/node-pty (é¢„ç¼–è¯‘)
- **é€šä¿¡**: Socket.io WebSocket
- **æ•°æ®**: Handsontable è¡¨æ ¼ç¼–è¾‘å™¨
- **MCP**: Claude MCP SDK + å³æ¢¦ API

## ğŸ“ é¡¹ç›®ç»“æ„

```
picagent/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ services/          # æ ¸å¿ƒæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ terminal.ts    # ç»ˆç«¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ websocket.ts   # WebSocket é€šä¿¡
â”‚   â”‚   â””â”€â”€ mcp-detector.ts # MCP æ£€æµ‹
â”‚   â”œâ”€â”€ routes/            # API è·¯ç”±
â”‚   â””â”€â”€ server.ts          # ä¸»æœåŠ¡
â”œâ”€â”€ public/                # å‰ç«¯èµ„æº
â”‚   â”œâ”€â”€ index.html         # ä¸»ç•Œé¢
â”‚   â”œâ”€â”€ mcp.html          # MCP ç®¡ç†
â”‚   â””â”€â”€ js/               # å‰ç«¯è„šæœ¬
â”œâ”€â”€ dist/                  # ç¼–è¯‘è¾“å‡º
â””â”€â”€ package.json
```

## ğŸ”§ API æ¥å£

### æ•°æ®ç®¡ç†
- `GET /api/covers` - è·å–å°é¢æ•°æ®
- `POST /api/covers` - ä¿å­˜å°é¢æ•°æ®
- `GET /api/gallery` - è·å–å›¾ç‰‡åˆ—è¡¨
- `POST /api/open-folder` - æ‰“å¼€æ–‡ä»¶å¤¹

### WebSocket äº‹ä»¶
```javascript
// Agent æ‰§è¡Œ
socket.emit('agent:execute', {
  prompt: 'é£æ ¼æç¤ºè¯',
  userRequirements: 'ç”¨æˆ·éœ€æ±‚'
})

// ç»ˆç«¯æ§åˆ¶
socket.emit('terminal:create', { cols: 80, rows: 24 })
socket.emit('terminal:write', 'command')

// MCP ç®¡ç†
socket.emit('mcp:check')
socket.emit('mcp:install', { name, config })
```

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.7 (2025-09-22)
- ğŸ› ä¿®å¤ Windows å¯åŠ¨è„šæœ¬é—®é¢˜
- âœ¨ æ”¹è¿›è·¯å¾„è§£æå’Œå‘½ä»¤å…¼å®¹æ€§

### v1.0.6 (2025-09-22)
- âœ¨ æ·»åŠ  @lydell/node-pty é¢„ç¼–è¯‘æ”¯æŒ
- ğŸ¯ Windows ç”¨æˆ·æ— éœ€ç¼–è¯‘å·¥å…·
- ğŸ”§ è‡ªåŠ¨é€‰æ‹©æœ€ä½³ PTY å®ç°

### v1.0.5 (2025-09-21)
- ğŸ› ä¿®å¤å›¾ç‰‡ URL ç¼–ç é—®é¢˜
- ğŸ¨ æ”¹è¿›å›¾ç‰‡æ˜¾ç¤ºæ•ˆæœ

### v4.0 æ ¸å¿ƒç‰ˆæœ¬
- âœ… Agent æ™ºèƒ½æ‰§è¡Œç³»ç»Ÿ
- âœ… æ•°æ®ç®¡ç†ç³»ç»Ÿï¼ˆHandsontableï¼‰
- âœ… å›¾åº“ç®¡ç†åŠŸèƒ½
- âœ… é…ç½®åŒæ­¥æœºåˆ¶
- âœ… MCP å®Œæ•´é›†æˆ

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ”— ç›¸å…³é“¾æ¥

- [GitHub ä»“åº“](https://github.com/Ceeon/picagent)
- [NPM åŒ…](https://www.npmjs.com/package/@chengfeng2025/picagent-jimeng)
- [å³æ¢¦ AI](https://jimeng.jianying.com/)
- [Claude MCP](https://claude.ai)

---

**å½“å‰ç‰ˆæœ¬**: v1.0.7
**ä½œè€…**: chengfeng
**æŠ€æœ¯æ”¯æŒ**: é€šè¿‡ GitHub Issues åé¦ˆé—®é¢˜